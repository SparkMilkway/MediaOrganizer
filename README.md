# 照片视频整理工具 (Photo & Video Organizer)

这是一个带有图形界面的照片和视频整理工具，可以帮助您自动整理和归档照片与视频文件。该工具特别适合处理从相机或手机导出的照片和视频，能够智能识别文件的创建时间，并按照年份和月份进行分类存储。

> 该工程所有代码和文件均由Cursor AI生成，主要使用的是Claude 3.5-sonnet

## 主要功能

1. **文件支持**
   - 图片格式：.jpg, .jpeg, .png
   - 视频格式：.mp4, .mov, .MOV

2. **智能时间识别**
   工具会通过以下方式依次尝试获取文件的创建时间：
   - 从照片的EXIF信息中读取原始拍摄时间
   - 通过相邻文件名推断创建时间（适用于连续拍摄的照片/视频）
   - 从文件路径中提取日期信息
   
3. **自动分类存储**
   - 按照"年份/月份"的目录结构自动整理文件
   - 自动设置正确的文件创建时间和修改时间
   - 对于无法确定时间的文件，保持原有的目录结构存放在"Unsorted"文件夹中

4. **图形界面功能**
   - 可视化的目录选择
   - 实时进度显示
   - 详细的处理日志
   - 错误提示和处理

## 使用要求

1. Python 3.6 或更高版本
2. 依赖包：
   ```
   Pillow==10.2.0
   piexif==1.1.3
   tqdm==4.66.2
   customtkinter==5.2.2
   tkcalendar==1.6.1
   ```

## 安装方法

1. 克隆或下载本项目
2. 安装依赖：
   ```bash
   pip install -r requirements.txt
   ```

## 使用方法

1. 运行程序：
   ```bash
   python photo_organizer_gui.py
   ```

2. 在图形界面中：
   - **批量处理选项卡**：
     - 点击"浏览"选择输入目录（包含待处理的照片和视频的目录）
     - 点击"浏览"选择输出目录（可选，默认与输入目录相同）
     - 点击"开始处理"按钮开始整理
   - **手动处理选项卡**：
     - 点击"浏览文件"选择需要手动设置日期的照片/视频文件
     - 在日期输入框中设置您希望指定的拍摄日期和时间
     - 选择输出目录
     - 点击"处理选定的文件"按钮开始处理

3. 处理结果：
   - 已分类文件将存储在：`输出目录/年份/月份/` 下
   - 未能确定时间的文件将存储在：`输出目录/Unsorted/` 下，保持原有的目录结构

## 特点说明

1. **智能时间推断**
   - 优先使用照片的EXIF信息
   - 对于连续拍摄的照片/视频，通过文件名中的数字关联来推断时间
   - 支持从目录名中提取日期信息作为后备方案

2. **手动日期设置**
   - 对于无法自动识别日期的照片/视频，提供手动设置日期功能
   - 可以一次选择多个文件，批量设置为同一日期
   - 支持精确到年、月、日、时、分的时间设置

3. **安全性考虑**
   - 保持原始文件不变
   - 对于无法处理的文件会保持原有的目录结构
   - 详细的日志记录所有操作

4. **用户友好**
   - 图形界面操作
   - 实时进度显示
   - 详细的处理日志
   - 清晰的错误提示

## 注意事项

1. 建议在处理前备份重要文件
2. 程序会递归处理所选目录下的所有子目录
3. 对于重名文件，将保持原文件名移动到目标目录
4. 处理过程中请勿手动修改相关目录中的文件

## 常见问题

1. **Q: 为什么有些照片被移动到了Unsorted目录？**  
   A: 这些文件可能缺少EXIF信息，且无法通过其他方式推断其创建时间。

2. **Q: 程序是如何处理连续拍摄的照片的？**  
   A: 程序会分析文件名中的数字序列，相邻编号的文件会被认为是同时拍摄的。

3. **Q: 支持哪些日期格式的目录名？**  
   A: 支持常见的日期格式，如：2023-01-01、20230101、2023_01_01等。 